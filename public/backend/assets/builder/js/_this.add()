SEARCH==>  _formParser: funct
««
/**
  * if object - GoogleSheets field
*/
if (item[i].className.match("object-interface-item") != null) {

  if (/(https?:\/\/)?(www.)?(docs.google.com\/spreadsheets\/d\/)/g.test(item[i].querySelector('.interface-input').value)) {
    console.log("item[i]==>", item[i].querySelector('.interface-input').value)

    var placeholder = item[i].querySelector(".interface-input").value;

    let coreString = placeholder.split("/spreadsheets/d/");
    let url = window.btoa(coreString[1]?.split("/edit")[0]);

    var innerContent =
      `<input type="hidden" class="spr-interface-field form-control" data-csrf="${url}" name="interface" disabled>`;

    var div = document.createElement("div");
    div.className = "form-group interface-field-group";
    div.innerHTML = innerContent; //docs.google.com/spreadsheets/d/

    outputData[i] = div;
  }
}
»»

SEARCH==> _getModalConstructorForm: function (_this

««
/**
  * if element - google-field
*/
if (element[i].className.match("spr-interface-field") != null) {
  var type = "interface";
  var placeholder = element[i].getAttribute("data-csrf");
  var name = element[i].getAttribute("name");
  var value = window.atob(element[i].getAttribute("data-csrf"));

  if (element[i].className.match(".spr-form-required")) {
    var required = "true";
  } else {
    var required = "false";
  }

  if (value == "undefined") {
    outputData[i] = {
      type: type,
      placeholder: "",
      name: name,
      required: value,
    };
  } else {
    outputData[i] = {
      type: type,
      placeholder: placeholder,
      name: name,
      required: value,
    };
  }
}
»»

SEARCH:==> var ConstructForm = function () {

««
    //===========WORK AREA============//
    '<button type="button" class="btn-primary sidebar-btn draggable" id="interface-sidebar-btn">' +
    '<i class="fa fa-google"></i>' +
    lang.googleSheets +
    "</button>" +
    //===========WORK AREA============//
»»

SEARCH:==> initEventListeners: function () {

««
var googleURL = this.innerContent.querySelector("#interface-sidebar-btn");
googleURL.addEventListener("click", function () {
  let elementAppend = document.querySelector(".construct-form-main-inner input[data-supra='GOOGLE_SHEETS']");

  let span = document.createElement("span");
  span.innerHTML = "لقد قمت بإضافة حقل جوجل شيتس بالفعل, لايمكنك إضافة حقل أخر";
  span.style.padding = "1rem 0 0 0";
  span.style.color = "red";
  span.style.fontWeight = "bold";
  span.style.fontSize = "13";
  span.style.textAlign = "right";
  span.style.display = "block";
  //elementAppend.style.border = "1px solid red";
  //elementAppend.style.outline = "1px solid red";

  if (elementAppend) {
    if (!elementAppend.parentElement.querySelector("span")) {
      elementAppend.parentNode.appendChild(span)
    } else {
      return;
    }
  } else {
    _this._getGooglField();
  }
});
»»

SEARCH: ==> this.onDragEnd = function (dragObject, dropElem

««
if (dragObject.elem.id.match("interface-sidebar-btn") != null) {
  if (document.querySelectorAll(".construct-form-main-inner .object-interface-item").length >= 1) {
    forDestroy?.remove();

    document.querySelector(".construct-form-main-inner .object-interface-item input").style.border = "2px solid red";
    let elementAppend = document.querySelector(".construct-form-main-inner input[data-supra='GOOGLE_SHEETS']");
    let span = document.createElement("span");
    span.innerHTML = "لقد قمت بإضافة حقل جوجل شيتس بالفعل, لايمكنك إضافة حقل أخر";
    span.style.padding = "1rem 0 0 0";
    span.style.color = "red";
    span.style.fontWeight = "bold";
    span.style.fontSize = "13";
    span.style.textAlign = "right";
    span.style.display = "block";
    //elementAppend.style.border = "1px solid red";
    //elementAppend.style.outline = "1px solid red";
    if (elementAppend) {
      if (!elementAppend.parentElement.querySelector("span")) {
        elementAppend.parentNode.appendChild(span)
      } else {
        forDestroy?.remove();
      }
    }
  } else {
    _selfSidebarDrop._getGooglField(null, dropElem);
  }
}
»»

SEARCH: ==> getConstructorForm: function (outputData) {

««
  case "interface":
    this._getGooglField(obj);
    break;
»»

SEARCH: ==> _getTextField: function (obj
««
  _getGooglField: function (obj, dropElem) {
    let lang = Core.prototype.translateWord.keywords_ar.popup.form;
    console.log("object", obj)

    if ((obj != undefined) & (obj != null)) {

      /*       if (obj.placeholder != "") {
              var inputData = `https://docs.google.com/spreadsheets/d/${window.atob(obj.placeholder)}/edit` || "";
            } */
      var inputData = obj.placeholder ? `https://docs.google.com/spreadsheets/d/${window.atob(obj.placeholder)}/edit` : "";
      var nameData = obj.name || "";
      var checkBoxData = obj.required || "false";
    }

    else {
      var inputData = "";
      var nameData = "";
      var checkBoxData = "false";
    }
    if (dropElem != undefined) {
      var dropPlace = dropElem || "";
    }

    var titleLabel = lang.googleSheets;
    var inputLabel = "رابط جوجل شيتس";
    var objectClass = "interface"; //GOGOLE SHEET
    var type = "url";

    var innerContent =
      '<div class="row">' +
      this._htmlTitleBar(titleLabel) +
      '<div class="toggle-area col-md-12">' +
      this._htmlGoogleInput(inputLabel, objectClass, type, inputData,) +
      /*       this._htmlNameInput(lang.fieldName, objectClass, type, nameData) +
       */      /*     this._htmlCheckbox(lang.required, objectClass, checkBoxData) + */
      "</div>" +
      "</div>";

    this._appendHtml(innerContent, objectClass, dropPlace);
  },
»»